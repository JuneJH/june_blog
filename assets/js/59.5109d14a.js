(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{474:function(t,o,e){"use strict";e.r(o);var l=e(62),s=Object(l.a)({},(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"持续化集成"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#持续化集成"}},[t._v("#")]),t._v(" 持续化集成")]),t._v(" "),e("blockquote",[e("p",[t._v("利用github的webhooks")]),t._v(" "),e("p",[t._v("当向github或者gitlab提交时webhook会向设置好的服务端发送一条post请求")])]),t._v(" "),e("h2",{attrs:{id:"_1-webhooks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-webhooks"}},[t._v("#")]),t._v(" 1. webhooks")]),t._v(" "),e("blockquote",[e("p",[t._v("监听仓库一系列动作并向指定的服务器发送一条携带该次动作的信息的post请求")])]),t._v(" "),e("ol",[e("li",[t._v("在github/gitlab中设置webhook\n"),e("ul",[e("li",[t._v("Payload URL：指定的服务器api")]),t._v(" "),e("li",[t._v("Content type：content-type")]),t._v(" "),e("li",[t._v("Secret：秘密token,会携带在请求头中用于验证权限")])])]),t._v(" "),e("li",[t._v("node起服务\n"),e("ul",[e("li",[t._v("监听设置payload url的路由")]),t._v(" "),e("li",[t._v("对其进行鉴权和锁,避免多次部署")]),t._v(" "),e("li",[t._v("通过child-process执行脚本")])])])])])}),[],!1,null,null,null);o.default=s.exports}}]);